-- ============================================================================
-- Centercode Alchemy - Rollback Beta Test Plan Seed
-- Migration: 002_seed_beta_blueprint_down.sql
-- ============================================================================
-- Removes all seed data inserted by 002_seed_beta_blueprint.sql
-- Deletes in reverse dependency order

-- ============================================================================
-- 1. DELETE ARTIFACT GENERATORS
-- ============================================================================
DELETE FROM blueprint_artifact_generators WHERE blueprint_id = '00000000-0000-0000-0000-000000000003';

-- ============================================================================
-- 2. DELETE FIELDS
-- ============================================================================
-- Cascade will handle deletion via section foreign key, but explicit for clarity
DELETE FROM fields WHERE section_id IN (
  '00000000-0000-0000-0000-000000000101',
  '00000000-0000-0000-0000-000000000102',
  '00000000-0000-0000-0000-000000000103',
  '00000000-0000-0000-0000-000000000104'
);

-- ============================================================================
-- 3. DELETE SECTIONS
-- ============================================================================
DELETE FROM sections WHERE blueprint_id = '00000000-0000-0000-0000-000000000003';

-- ============================================================================
-- 4. DELETE BLUEPRINT
-- ============================================================================
DELETE FROM blueprints WHERE id = '00000000-0000-0000-0000-000000000003';

-- ============================================================================
-- 5. DELETE DEMO MEMBER
-- ============================================================================
DELETE FROM members WHERE id = '00000000-0000-0000-0000-000000000002';

-- ============================================================================
-- 6. DELETE DEMO COMPANY
-- ============================================================================
-- Cascade will delete all dependent records
DELETE FROM companies WHERE id = '00000000-0000-0000-0000-000000000001';

-- ============================================================================
-- END OF ROLLBACK 002
-- ============================================================================
